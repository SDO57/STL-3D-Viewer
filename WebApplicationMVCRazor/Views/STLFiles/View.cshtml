@using Core.Tools;
@model STLFileViewModel

@{
    CADJsEncryptDecrypt decrypt = (Model.Desc.FileCodage == "BIN") ? new Core.Tools.STLBinaryJsEncryptDecrypt(Model.Data) : new Core.Tools.STLAsciiJsEncryptDecrypt(Model.Data);
    var jpositions = String.Join(',', decrypt.jsPositions);
    var jindices = String.Join(',', decrypt.jsIndices);
    var jboundingBox = String.Join(',', decrypt.jsBoundingBox);
    var jnormals = String.Join(',', decrypt.jsNormals);
    var ClearColor = "#24282D";

}



<div class="container">
    <div class="row">

        <div class="col-2">
            <h2><a class="btn btn-primary" href="/STLFiles/Files?StoreId=@Model.Desc.StoreId">Go back to Store</a></h2>

        </div>

        @*  <div class="col-3">
        <select disabled name="store-select" id="store-select">
        <option value='@Model.Desc.StoreId'>@Model.Desc.StoreId</option>
        </select>
        </div>

        <div class="col-3">
        <select disabled name="file-select" id="file-select">
        <option value='@Model.Desc.FileId'>@Model.Desc.FileName</option>
        </select>
        </div>*@



        <div class="col-2">
           
        </div>
        <div class="col-2">

            <input type="color" id="CClearColor" name="CClearColor"
                   value="@ClearColor">
            <label for="CClearColor">CClearColor</label>

        </div>
        <div class="col-2">
            <div>
                <input checked type="checkbox" id="cbShowGridGround" name="cbShowGridGround">
                <label for="cbShowGridGround">Ground</label>

            </div>
        </div>
        <div class="col-2">
            <div>
                <input type="checkbox" id="cbShowCloud" name="cbShowCloud">
                <label for="cbShowCloud">Sky</label>

            </div>

        </div>
        <div class="col-2">
            <div>
                <input type="checkbox" id="cbShowAxis" name="cbShowAxis">
                <label for="cbShowAxis">Axis</label>

            </div>
        </div>
    </div>


    <div class="row">

        <div class="col-2">



            <div class="container">



                <div>
                    <input type="checkbox" id="cbBoundingBox" name="cbBoundingBox">
                    <label for="cbBoundingBox">BoundingBox</label>

                </div>
                <div>
                    <input type="checkbox" id="cbEdges" name="cbEdges">
                    <label for="cbEdges">Edges</label>

                </div>
                <div>
                    <input type="checkbox" id="cbShowNormals" name="cbShowNormals">
                    <label for="cbShowNormals">Normals</label>

                </div>
                <div>
                    <input type="checkbox" id="wireframe" name="wireframe">
                    <label for="scales">Wireframe</label>
                </div>
                <div>
                    <input type="checkbox" id="backFaceCulling" name="backFaceCulling" checked>
                    <label for="scales">Back Face Culling</label>
                </div>

            </div>


            <div id="material-group">
                <select name="PlanetColorization" id="PlanetColorization-select">
                    <option value='solid'>solid</option>
                    <option disabled>Earth</option>
                    <option value='earthHadeenBeginPalette'>earth - 4,51 MA - Hadeen - Debut</option>
                    <option value='earthHadeenEndPalette'>earth - 3,8 MA - Hadeen - Fin</option>
                    <option value='earthArcheenPalette'>earth - 3,8 MA - Archeen</option>
                    <option value='earthProterozoiquenPalette'>earth - 2,52 MA - Proterozoiquen</option>
                    <option value='elevationcolors_earthEonPhanerozoique_Paleozoique'>earth - 542 MO - Paleozoique </option>
                    <option value='elevationcolors_earthEonPhanerozoique_Mesozoique'>earth - 250 MO - Mesozoique </option>
                    <option value='elevationcolors_earthEonPhanerozoique_Cenozoique'>earth - 65 MO - Cenozoique </option>



                    <option value='earthTodayPalette'>earth - Today</option>
                    <option disabled>Others</option>
                   
                    <option value='mercury'>mercury</option>
                    <option value='venus'>venus</option>
                    <option value='mars'>mars</option>
                    <option value='pluto'>pluto</option>
                    <option disabled>Satellites</option>
                    <option value='moon'>moon</option>
                    <option value='Encelade'>Encelade</option>
                    

                </select>




                <select name="Material" id="material-select">

                    <option disabled>Image Texture Materials</option>
                    <option value='stone'>stone</option>

                    <option disabled>Procedural Texture Materials</option>
                    <option value='grid'>grid</option>
                    <option value='brick'>brick</option>
                    <option value='wood'>wood</option>
                    <option value='marble'>marble</option>
                    <option value='road'>road</option>
                    <option value='grass'>grass</option>
                    <option value='fire'>fire</option>

                    <option disabled>Color Defined Materials</option>
                    <option value='emerald'>emerald</option>
                    <option value='jade'>jade</option>
                    <option value='obsidian'>obsidian</option>
                    <option value='pearl'>pearl</option>
                    <option value='ruby'>ruby</option>
                    <option value='turquoise'>turquoise</option>
                    <option value='brass'>brass</option>
                    <option value='bronze'>bronze</option>
                    <option value='polished_bronze'>polished_bronze</option>
                    <option value='chrome'>chrome</option>
                    <option value='copper'>copper</option>
                    <option value='polished_copper'>polished_copper</option>
                    <option value='gold'>gold</option>
                    <option value='polished_gold'>polished_gold</option>
                    <option value='pewter'>pewter</option>
                    <option value='silver'>silver</option>
                    <option value='polished_silver'>polished_silver</option>

                    <option disabled>My Materials</option>
                    <option selected value='plaster'>plaster</option>
                    <option value='inca_stone'>inca stone</option>
                    <option value='white_marble'>white marble</option>
                    <option value='rose_marble'>rose marble</option>

                    <option disabled>Plastic</option>
                    <option value='black_plastic'>black</option>
                    <option value='cyan_plastic'>cyan</option>
                    <option value='green_plastic'>green</option>
                    <option value='red_plastic'>red</option>
                    <option value='white_plastic'>white</option>
                    <option value='yellow_plastic'>yellow</option>

                    <option disabled>Rubber</option>
                    <option value='black_rubber'>black</option>
                    <option value='cyan_rubber'>cyan</option>
                    <option value='green_rubber'>green</option>
                    <option value='red_rubber'>red</option>
                    <option value='white_rubber'>white</option>
                    <option value='yellow_rubber'>yellow</option>

                    <option disabled>My Mats</option>
                    <option value='black_mat'>black</option>
                    <option value='cyan_mat'>cyan</option>
                    <option value='green_mat'>green</option>
                    <option value='red_mat'>red</option>
                    <option value='white_mat'>white</option>
                    <option value='yellow_mat'>yellow</option>

                </select>


                <div>
                    <input type="range" id="RAmbiantColor" name="RAmbiantColor"
                           min="0" max="100" value="40" step="10">
                    <label for="RAmbiantColor">RAmbiantColor</label>
                </div>
                <div>
                    <input type="range" id="RCameraLight" name="RCameraLight"
                           min="0" max="100" value="50" step="10">
                    <label for="RCameraLight">RCameraLight</label>
                </div>

            </div>

            <a class="btn btn-warning" asp-action="Save" asp-route-id="@Model.Desc.FileId">Save preferences</a>


        </div>
        <div class="col-10">
            <div class="container">


                <div class="row">


                    <!-- RENDERING CANVAS-->
                    <div id="canvasZone">
                        <canvas id="renderCanvas"></canvas>
                    </div>


                </div>
                <div class="row">

                    <div class="col-12">

                        <label> @Model.Desc.FileName, @Model.Desc.FileCodage, @Model.Desc.FileSize (bytes), @(decrypt.NbFaces) faces</label>

                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-10">
           
        </div>

        @*  <div class="col-3">
        <select disabled name="store-select" id="store-select">
        <option value='@Model.Desc.StoreId'>@Model.Desc.StoreId</option>
        </select>
        </div>

        <div class="col-3">
        <select disabled name="file-select" id="file-select">
        <option value='@Model.Desc.FileId'>@Model.Desc.FileName</option>
        </select>
        </div>*@



        <div class="col-2">
            <a class="btn btn-info" asp-action="Load" asp-route-id="@Model.Desc.FileId">Download File</a>
        </div>
       
    </div>

</div>

<!--


                                           <label for="fuel">Fuel level:</label>

                                           <meter id="fuel"
                                                  min="0" max="100"
                                                  low="33" high="66" optimum="80"
                                                  value="50">
                                               at 50/100
                                           </meter>
                                           <label for="file">File progress:</label>

                                           <progress id="file" max="100" value="70"> 70% </progress>


                                           <div>
                                               <input type="file"
                                                      id="meshFile" name="meshFile"
                                                      accept=".stl">
                                           </div>



                   -->
<!--

<div>
    <input type="color" id="head" name="head"
           value="#e66465">
    <label for="head">Head</label>
</div>




    <div>
        <input type="radio" id="huey" name="drone" value="huey"
               checked>
        <label for="huey">Huey</label>
    </div>

    <div>
        <input type="radio" id="dewey" name="drone" value="dewey">
        <label for="dewey">Dewey</label>
    </div>

    <div>
        <input type="radio" id="louie" name="drone" value="louie">
        <label for="louie">Louie</label>
    </div>-->

<script>

    clearColor = '@ClearColor';
    boundingBox = [@jboundingBox];
    positions = [@jpositions];
    indices = [@jindices];
    normals = [@jnormals];
    $('#renderCanvas').css('background-color', clearColor);




</script>


<script src="~/js/view.js" asp-append-version="true"></script>

<script src="~/js/viewVanilla.js" asp-append-version="true"></script>
